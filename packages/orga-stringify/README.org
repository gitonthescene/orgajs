#+TITLE: orga-stringify

This package implements [[https://unifiedjs.com/explore/package/unified/#processorstringifynode-file][stringify processor]] to be used in the [[https://unifiedjs.com/][unified]] framework.  This takes in an
oast (Orga AST) tree and compiles it to a string.

* Examples
  - Simple processing

    This processes the orgfile =myfile.org=, parses it with =orga-unifed= and compiles the result back to an org file!

    #+BEGIN_SRC javascript
    const unified = require("unified");
    const parse = require("orga-unified");
    const render = require("orga-stringify");
    const vfile = require("to-vfile");

    const processor = unified()
      .use(parse)
      .use(render);

    function main() {
      processor
        .process(
          vfile.readSync(
            "myfile.org"
          )
        )
        .then(
          (file) => {
            process.stdout.write(String(file));
          },
          (err) => {
            console.log(String(err));
          }
        );
    }
    main();

    #+END_SRC

  - Processing with an attacher

    You can modify the compiler using a [[https://unifiedjs.com/explore/package/unified/#function-attacheroptions][unified attacher]] to control how the compiled result is
    rendered.  You can strip markup for links and various highlighting in the output like so.

    #+BEGIN_SRC javascript
    const attach = require("orga-unified/lib/unadorned");

    const processor = unified()
      .use(parse)
      .use(render)
      .use(attach);

    #+END_SRC

  - Render to JSON

    The =orga-stringify= processor also accepts a =toJSON= option to generate the oast tree in JSON
    format.  Simply modify the processor like so.

    #+BEGIN_SRC javascript

    const processor = unified()
      .use(parse)
      .use(render, {toJSON: true});

    #+END_SRC

  - Exercise!  :P  Take this README.org and pull the code out of the javascript blocks.
